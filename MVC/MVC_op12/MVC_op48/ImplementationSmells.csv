Project Name,Package Name,Type Name,Method Name,Implementation Smell,Cause of the Smell,Method start line no
33_HealthBox-master,project.healthbox.aop,ConsultationAspect,loggingAfterReturning,Long Statement,The length of the statement "myWriter.write(String.format("User with email - %s - sent consultation to a doctor with email - %s%n"`consultationDetails.getUser().getEmail()`consultationDetails.getDoctor().getEmail()));" is 188.,22
33_HealthBox-master,project.healthbox.config,ApplicationSecurityConfiguration,configure,Long Statement,The length of the statement "http.authorizeRequests().antMatchers("/js/**"`"/css/**"`"/img/**").permitAll().antMatchers("/"`"/user/register"`"/user/login").anonymous().anyRequest().authenticated().and().formLogin().loginPage("/user/login").failureForwardUrl("/user/login-error").usernameParameter("username").passwordParameter("password").successHandler(authenticationSuccessHandler).and().logout().logoutUrl("/logout").logoutSuccessUrl("/").invalidateHttpSession(true).deleteCookies("JSESSIONID");" is 469.,29
33_HealthBox-master,project.healthbox.events.register,DoctorRegisterEvent,DoctorRegisterEvent,Long Parameter List,The method has 5 parameters. ,16
33_HealthBox-master,project.healthbox.events.register,DoctorRegisterEvent,toString,Long Statement,The length of the statement "return "DoctorRegisterEvent{" + "firstName='" + firstName + '\''+ "` lastName='"+ lastName+ '\''+ "` email='"+ email+ '\''+ "` locationName='"+ locationName+ '\''+ "` specialtyName='"+ specialtyName+ '\''+ '}';" is 210.,25
33_HealthBox-master,project.healthbox.events.register,RegisterEventPublisher,publishUserRegisterEvent,Long Statement,The length of the statement "UserRegisterEvent userRegisterEvent=new UserRegisterEvent(userServiceModel.getFirstName()`userServiceModel.getLastName()`userServiceModel.getEmail());" is 150.,18
33_HealthBox-master,project.healthbox.events.register,RegisterEventPublisher,publishDoctorRegisterEvent,Long Statement,The length of the statement "DoctorRegisterEvent doctorRegisterEvent=new DoctorRegisterEvent(doctorServiceModel.getFirstName()`doctorServiceModel.getLastName()`doctorServiceModel.getEmail()`doctorServiceModel.getLocation().getName()`doctorServiceModel.getSpecialty().getName());" is 249.,27
33_HealthBox-master,project.healthbox.events.register,UserRegisterEvent,toString,Long Statement,The length of the statement "return "UserRegisterEvent{" + "firstName='" + firstName + '\''+ "` lastName='"+ lastName+ '\''+ "` email='"+ email+ '\''+ '}';" is 126.,21
33_HealthBox-master,project.healthbox.log.formatter,LogFormatter,format,Long Statement,The length of the statement "return record.getThreadID() + "::" + record.getLoggerName()+ "::"+ record.getSourceMethodName()+ "::"+ new Date(record.getMillis())+ "::"+ record.getMessage()+ "\n";" is 165.,8
33_HealthBox-master,project.healthbox.service.impl,AnswerServiceImpl,save,Long Statement,The length of the statement "return modelMapper.map(answerRepository.saveAndFlush(modelMapper.map(answerServiceModel`Answer.class))`AnswerServiceModel.class);" is 129.,17
33_HealthBox-master,project.healthbox.service.impl,AuthenticatedUserServiceImpl,getRoles,Long Statement,The length of the statement "return SecurityContextHolder.getContext().getAuthentication().getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList());" is 153.,20
33_HealthBox-master,project.healthbox.service.impl,CityServiceImpl,getByName,Long Statement,The length of the statement "return cityRepository.findByName(name).map(city -> modelMapper.map(city`CityServiceModel.class)).orElseThrow(() -> new ObjectNotFoundException("Invalid city name!"));" is 166.,51
33_HealthBox-master,project.healthbox.service.impl,CityServiceImpl,getAll,Long Statement,The length of the statement "return cityRepository.findAll().stream().map(city -> modelMapper.map(city`CityServiceModel.class)).collect(Collectors.toList());" is 128.,58
33_HealthBox-master,project.healthbox.service.impl,CityServiceImpl,getById,Long Statement,The length of the statement "return cityRepository.findById(id).map(city -> modelMapper.map(city`CityServiceModel.class)).orElseThrow(() -> new ObjectNotFoundException("Invalid city identifier!"));" is 168.,65
33_HealthBox-master,project.healthbox.service.impl,ConsultationServiceImpl,save,Long Statement,The length of the statement "return modelMapper.map(consultationRepository.saveAndFlush(modelMapper.map(consultationServiceModel`Consultation.class))`ConsultationServiceModel.class);" is 153.,22
33_HealthBox-master,project.healthbox.service.impl,ConsultationServiceImpl,getById,Long Statement,The length of the statement "Consultation consultation=consultationRepository.findById(id).orElseThrow(() -> new ObjectNotFoundException("Invalid consultation identifier!"));" is 145.,38
33_HealthBox-master,project.healthbox.service.impl,DoctorServiceImpl,completeProfile,Long Statement,The length of the statement "Doctor doctor=doctorRepository.findById(doctorServiceModel.getId()).orElseThrow(() -> new ObjectNotFoundException("Invalid doctor identifier!"));" is 145.,33
33_HealthBox-master,project.healthbox.service.impl,DoctorServiceImpl,completeProfile,Long Statement,The length of the statement "doctor.setSpecialty(modelMapper.map(specialtyService.getByName(doctorServiceModel.getSpecialty().getName())`Specialty.class));" is 126.,33
33_HealthBox-master,project.healthbox.service.impl,DoctorServiceImpl,getAll,Long Statement,The length of the statement "return doctorRepository.findAll().stream().map(doctor -> modelMapper.map(doctor`DoctorServiceModel.class)).collect(Collectors.toList());" is 136.,54
33_HealthBox-master,project.healthbox.service.impl,DoctorServiceImpl,deleteDoctor,Long Statement,The length of the statement "Doctor doctor=doctorRepository.findById(id).orElseThrow(() -> new ObjectNotFoundException("Invalid doctor identifier!"));" is 121.,61
33_HealthBox-master,project.healthbox.service.impl,DoctorServiceImpl,getAllByGivenCriteria,Long Statement,The length of the statement "return doctorRepository.findAllDoctorsByGivenCriteria(specialtyId`cityId`firstName`lastName).stream().map(doctor -> modelMapper.map(doctor`DoctorServiceModel.class)).collect(Collectors.toList());" is 195.,70
33_HealthBox-master,project.healthbox.service.impl,DoctorServiceImpl,isAccountCompleted,Long Statement,The length of the statement "return (doctorServiceModel.getBiography() != null) && (doctorServiceModel.getEducation() != null) && (doctorServiceModel.getImageUrl() != null)&& (doctorServiceModel.getLocation() != null)&& (doctorServiceModel.getSpecialty() != null)&& (doctorServiceModel.getWorkHistory() != null);" is 283.,77
33_HealthBox-master,project.healthbox.service.impl,DoctorServiceImpl,getById,Long Statement,The length of the statement "Doctor doctor=doctorRepository.findById(id).orElseThrow(() -> new ObjectNotFoundException("Invalid doctor identifier!"));" is 121.,87
33_HealthBox-master,project.healthbox.service.impl,RoleServiceImpl,getByAuthority,Long Statement,The length of the statement "return roleRepository.findByAuthority(authority).map(role -> modelMapper.map(role`RoleServiceModel.class)).orElseThrow(() -> new ObjectNotFoundException("Invalid role name!"));" is 176.,31
33_HealthBox-master,project.healthbox.service.impl,RoleServiceImpl,getRolesForRootUser,Long Statement,The length of the statement "return roleRepository.findAll().stream().filter(role -> !role.getAuthority().equals("ROLE_DOCTOR")).collect(Collectors.toSet());" is 128.,38
33_HealthBox-master,project.healthbox.service.impl,SpecialtyServiceImpl,getAll,Long Statement,The length of the statement "return specialtyRepository.findAll().stream().map(specialty -> modelMapper.map(specialty`SpecialtyServiceModel.class)).collect(Collectors.toList());" is 148.,51
33_HealthBox-master,project.healthbox.service.impl,SpecialtyServiceImpl,getByName,Long Statement,The length of the statement "return specialtyRepository.findByName(name).map(specialty -> modelMapper.map(specialty`SpecialtyServiceModel.class)).orElseThrow(() -> new ObjectNotFoundException("Invalid specialty name!"));" is 191.,58
33_HealthBox-master,project.healthbox.service.impl,SpecialtyServiceImpl,getById,Long Statement,The length of the statement "return specialtyRepository.findById(id).map(specialty -> modelMapper.map(specialty`SpecialtyServiceModel.class)).orElseThrow(() -> new ObjectNotFoundException("Invalid specialty identifier!"));" is 193.,65
33_HealthBox-master,project.healthbox.service.impl,SpecialtyServiceImpl,deleteSpecialty,Long Statement,The length of the statement "Specialty specialty=specialtyRepository.findById(id).orElseThrow(() -> new ObjectNotFoundException("Invalid specialty identifier!"));" is 133.,72
33_HealthBox-master,project.healthbox.service.impl,UserServiceImpl,getById,Long Statement,The length of the statement "return userRepository.findById(id).map(user -> modelMapper.map(user`UserServiceModel.class)).orElseThrow(() -> new ObjectNotFoundException("Invalid user identifier!"));" is 168.,80
33_HealthBox-master,project.healthbox.service.impl,UserServiceImpl,getAll,Long Statement,The length of the statement "return userRepository.findAll().stream().map(user -> modelMapper.map(user`UserServiceModel.class)).collect(Collectors.toList());" is 128.,87
33_HealthBox-master,project.healthbox.service.impl,UserServiceImpl,makeAdmin,Long Statement,The length of the statement "return modelMapper.map(userRepository.saveAndFlush(modelMapper.map(userServiceModel`User.class))`UserServiceModel.class);" is 121.,102
33_HealthBox-master,project.healthbox.service.impl,UserServiceImpl,makeUser,Long Statement,The length of the statement "return modelMapper.map(userRepository.saveAndFlush(modelMapper.map(userServiceModel`User.class))`UserServiceModel.class);" is 121.,116
33_HealthBox-master,project.healthbox.validation.doctor,DoctorUpdateMultipartFileValidator,validate,Long Statement,The length of the statement "errors.rejectValue("image"`ValidationConstants.PROFILE_PICTURE_NOT_UPLOADED`ValidationConstants.PROFILE_PICTURE_NOT_UPLOADED);" is 126.,16
33_HealthBox-master,project.healthbox.validation.user,FieldMatchValidator,isValid,Long Statement,The length of the statement "context.buildConstraintViolationWithTemplate(message).addPropertyNode(firstField).addConstraintViolation().buildConstraintViolationWithTemplate(message).addPropertyNode(secondField).addConstraintViolation().disableDefaultConstraintViolation();" is 243.,22
33_HealthBox-master,project.healthbox.web.API,FindDoctorsAPIController,findDoctors,Long Statement,The length of the statement "List<DoctorFoundAPIViewModel> result=found.stream().filter(doctorService::isAccountCompleted).map(doctorServiceModel -> modelMapper.map(doctorServiceModel`DoctorFoundAPIViewModel.class)).collect(Collectors.toList());" is 216.,23
33_HealthBox-master,project.healthbox.web.controllers,AnswerController,getConsultationAnswerView,Long Statement,The length of the statement "modelAndView.addObject("consultation"`modelMapper.map(consultationService.getById(id)`ConsultationDetailsViewModel.class));" is 123.,34
33_HealthBox-master,project.healthbox.web.controllers,AnswerController,answerConsultation,Long Parameter List,The method has 5 parameters. ,44
33_HealthBox-master,project.healthbox.web.controllers,AnswerController,answerConsultation,Long Statement,The length of the statement "redirectAttributes.addFlashAttribute("org.springframework.validation.BindingResult.answerSendBindingModel"`bindingResult);" is 122.,44
33_HealthBox-master,project.healthbox.web.controllers,AnswerController,answerConsultation,Long Statement,The length of the statement "AnswerServiceModel answerServiceModel=answerService.save(modelMapper.map(answerSendBindingModel`AnswerServiceModel.class));" is 123.,44
33_HealthBox-master,project.healthbox.web.controllers,CityController,getAllView,Long Statement,The length of the statement "modelAndView.addObject("cities"`cityService.getAll().stream().map(cityServiceModel -> modelMapper.map(cityServiceModel`CitiesAllViewModel.class)).collect(Collectors.toList()));" is 176.,27
33_HealthBox-master,project.healthbox.web.controllers,ConsultationController,sendConsultationForm,Long Parameter List,The method has 6 parameters. ,47
33_HealthBox-master,project.healthbox.web.controllers,ConsultationController,sendConsultationForm,Long Statement,The length of the statement "redirectAttributes.addFlashAttribute("org.springframework.validation.BindingResult.consultationSendBindingModel"`bindingResult);" is 128.,47
33_HealthBox-master,project.healthbox.web.controllers,ConsultationController,sendConsultationForm,Long Statement,The length of the statement "consultationService.save(modelMapper.map(consultationSendBindingModel`ConsultationServiceModel.class)`userServiceModel`doctorServiceModel);" is 139.,47
33_HealthBox-master,project.healthbox.web.controllers,ConsultationController,getConsultationDetailsView,Long Statement,The length of the statement "modelAndView.addObject("consultation"`modelMapper.map(consultationService.getById(id)`ConsultationDetailsViewModel.class));" is 123.,75
33_HealthBox-master,project.healthbox.web.controllers,DoctorController,getRegisterView,Long Statement,The length of the statement "modelAndView.addObject("specialties"`specialtyService.getAll().stream().map(specialtyServiceModel -> modelMapper.map(specialtyServiceModel`SpecialtyDoctorCompleteViewModel.class)).collect(Collectors.toList()));" is 210.,40
33_HealthBox-master,project.healthbox.web.controllers,DoctorController,getRegisterView,Long Statement,The length of the statement "modelAndView.addObject("cities"`cityService.getAll().stream().map(cityServiceModel -> modelMapper.map(cityServiceModel`CityDoctorCompleteViewModel.class)).collect(Collectors.toList()));" is 185.,40
33_HealthBox-master,project.healthbox.web.controllers,DoctorController,updateProfile,Long Identifier,The length of the field doctorUpdateMultipartFileValidator is 34.,60
33_HealthBox-master,project.healthbox.web.controllers,DoctorController,updateProfile,Long Parameter List,The method has 5 parameters. ,60
33_HealthBox-master,project.healthbox.web.controllers,DoctorController,updateProfile,Long Statement,The length of the statement "redirectAttributes.addFlashAttribute("org.springframework.validation.BindingResult.doctorUpdateBindingModel"`bindingResult);" is 124.,60
33_HealthBox-master,project.healthbox.web.controllers,DoctorController,getDashboardDoctorView,Long Statement,The length of the statement "modelAndView.addObject("consultations"`doctorService.getByEmail(principal.getName()).getConsultations().stream().map(consultationServiceModel -> modelMapper.map(consultationServiceModel`DoctorDashboardViewModel.class)).collect(Collectors.toList()));" is 249.,92
33_HealthBox-master,project.healthbox.web.controllers,DoctorController,getAllView,Long Statement,The length of the statement "modelAndView.addObject("doctors"`doctorService.getAll().stream().map(doctorServiceModel -> modelMapper.map(doctorServiceModel`DoctorsAllViewModel.class)).collect(Collectors.toList()));" is 184.,105
33_HealthBox-master,project.healthbox.web.controllers,HomeController,getHomeView,Long Statement,The length of the statement "modelAndView.addObject("specialties"`specialtyService.getAll().stream().map(specialtyServiceModel -> modelMapper.map(specialtyServiceModel`SpecialtySearchViewModel.class)).collect(Collectors.toList()));" is 202.,36
33_HealthBox-master,project.healthbox.web.controllers,HomeController,getHomeView,Long Statement,The length of the statement "modelAndView.addObject("cities"`cityService.getAll().stream().map(cityServiceModel -> modelMapper.map(cityServiceModel`CitySearchViewModel.class)).collect(Collectors.toList()));" is 177.,36
33_HealthBox-master,project.healthbox.web.controllers,SpecialtyController,getAllView,Long Statement,The length of the statement "modelAndView.addObject("specialties"`specialtyService.getAll().stream().map(c -> modelMapper.map(c`SpecialtiesAllViewModel.class)).collect(Collectors.toList()));" is 161.,27
33_HealthBox-master,project.healthbox.web.controllers,SpecialtyController,createSpecialty,Long Statement,The length of the statement "redirectAttributes.addFlashAttribute("org.springframework.validation.BindingResult.specialtyAddBindingModel"`bindingResult);" is 124.,70
33_HealthBox-master,project.healthbox.web.controllers,UserController,registerConfirm,Long Statement,The length of the statement "redirectAttributes.addFlashAttribute("org.springframework.validation.BindingResult.userRegisterBindingModel"`bindingResult);" is 124.,49
33_HealthBox-master,project.healthbox.web.controllers,UserController,registerConfirm,Long Statement,The length of the statement "UserServiceModel registeredUser=userService.register(modelMapper.map(userRegisterBindingModel`UserServiceModel.class)`userRegisterBindingModel.getTitle());" is 155.,49
33_HealthBox-master,project.healthbox.web.controllers,UserController,getAllView,Long Statement,The length of the statement "modelAndView.addObject("users"`userService.getAll().stream().map(userServiceModel -> modelMapper.map(userServiceModel`UsersAllViewModel.class)).collect(Collectors.toList()));" is 174.,103
33_HealthBox-master,project.healthbox.web.controllers,UserController,getProfileView,Long Statement,The length of the statement "modelAndView.addObject("consultations"`userService.getByEmail(principal.getName()).getConsultations().stream().map(consultationServiceModel -> modelMapper.map(consultationServiceModel`ConsultationDashboardViewModel.class)).collect(Collectors.toList()));" is 253.,149
33_HealthBox-master,project.healthbox.integration.controllers,FindDoctorsAPIControllerTests,init,Long Statement,The length of the statement "when(mockDoctorRepository.findAllDoctorsByGivenCriteria(NON_EXISTENT_UUID`NON_EXISTENT_UUID`NON_EXISTENT_FIRST_NAME`NON_EXISTENT_LAST_NAME)).thenReturn(List.of());" is 163.,53
33_HealthBox-master,project.healthbox.integration.controllers,FindDoctorsAPIControllerTests,init,Long Statement,The length of the statement "when(mockDoctorRepository.findAllDoctorsByGivenCriteria(""`""`DOCTOR_3_NAME`DOCTOR_3_LAST_NAME)).thenReturn(List.of(doctor3));" is 126.,53
33_HealthBox-master,project.healthbox.integration.controllers,FindDoctorsAPIControllerTests,findDoctors_Should_NotFindAnyResults,Long Statement,The length of the statement "mockMvc.perform(get("/findDoctors/specialty_id={specialtyId}&city_id={cityId}&first_name={firstName}&last_name={lastName}"`NON_EXISTENT_UUID`NON_EXISTENT_UUID`NON_EXISTENT_FIRST_NAME`NON_EXISTENT_LAST_NAME)).andExpect(status().isNotFound());" is 241.,121
33_HealthBox-master,project.healthbox.integration.controllers,FindDoctorsAPIControllerTests,findDoctors_Should_FindDoctors_BySpecialtyId,Long Statement,The length of the statement "mockMvc.perform(get("/findDoctors/specialty_id={specialtyId}&city_id=&first_name=&last_name="`doctor1.getSpecialty().getId())).andExpect(status().isOk()).andExpect(jsonPath("$.[0].firstName"`is(doctor1.getFirstName())));" is 220.,129
33_HealthBox-master,project.healthbox.integration.controllers,FindDoctorsAPIControllerTests,findDoctors_Should_FindDoctors_ByCityId,Long Statement,The length of the statement "mockMvc.perform(get("/findDoctors/specialty_id=&city_id={cityId}&first_name=&last_name="`doctor2.getLocation().getId())).andExpect(status().isOk()).andExpect(jsonPath("$.[0].firstName"`is(doctor2.getFirstName())));" is 214.,138
33_HealthBox-master,project.healthbox.integration.controllers,FindDoctorsAPIControllerTests,findDoctors_Should_FindDoctors_ByFirstAndLastName,Long Statement,The length of the statement "mockMvc.perform(get("/findDoctors/specialty_id=&city_id=&first_name={firstName}&last_name={lastName}"`doctor3.getFirstName()`doctor3.getLastName())).andExpect(status().isOk()).andExpect(jsonPath("$.[0].firstName"`is(doctor3.getFirstName()))).andExpect(jsonPath("$.[0].lastName"`is(doctor3.getLastName())));" is 306.,147
33_HealthBox-master,project.healthbox.integration.controllers,FindDoctorsAPIControllerTests,findDoctors_Should_ReturnAllDoctors,Long Statement,The length of the statement "mockMvc.perform(get("/findDoctors/specialty_id=&city_id=&first_name=&last_name=")).andExpect(status().isOk()).andExpect(jsonPath("$"`hasSize(3))).andExpect(jsonPath("$.[0].id"`is(doctor1.getId()))).andExpect(jsonPath("$.[0].firstName"`is(doctor1.getFirstName()))).andExpect(jsonPath("$.[1].id"`is(doctor2.getId()))).andExpect(jsonPath("$.[1].firstName"`is(doctor2.getFirstName()))).andExpect(jsonPath("$.[2].id"`is(doctor3.getId()))).andExpect(jsonPath("$.[2].firstName"`is(doctor3.getFirstName())));" is 500.,158
33_HealthBox-master,project.healthbox.integration.controllers,FindDoctorsAPIControllerTests,findDoctors_Should_ReturnAllDoctors,Magic Number,The method contains a magic number: 3,158
33_HealthBox-master,project.healthbox.integration.controllers,UserControllerTests,register_Should_ReturnCorrectStatusCode_AndView,Long Statement,The length of the statement "mockMvc.perform(MockMvcRequestBuilders.get("/user/register")).andExpect(status().isOk()).andExpect(view().name("user/register"));" is 129.,34
33_HealthBox-master,project.healthbox.integration.controllers,UserControllerTests,register_Should_RegisterUserSuccessfully,Long Statement,The length of the statement "mockMvc.perform(MockMvcRequestBuilders.post(USER_CONTROLLER_PREFIX + "/register").param("firstName"`"First").param("lastName"`"Last").param("title"`TitleEnum.PATIENT.name()).param("email"`"test@patient.com").param("password"`"h[v`8r2TA')!-Ln3").param("confirmPassword"`"h[v`8r2TA')!-Ln3").with(csrf())).andExpect(status().is3xxRedirection());" is 342.,43
33_HealthBox-master,project.healthbox.integration.controllers,UserControllerTests,register_Should_RegisterUserSuccessfully,Magic Number,The method contains a magic number: 2,43
33_HealthBox-master,project.healthbox.unit.services,DoctorServiceTests,init,Long Statement,The length of the statement "doctorService=new DoctorServiceImpl(mockDoctorRepository`new ModelMapper()`mockSpecialtyService`mockCityService`mockCloudinaryService`mockRegisterEventPublisher);" is 162.,54
33_HealthBox-master,project.healthbox.unit.services,DoctorServiceTests,getAllByGivenCriteria_Should_Return_CollectionOfDoctors,Long Statement,The length of the statement "Mockito.when(mockDoctorRepository.findAllDoctorsByGivenCriteria(ID`ID`FIRST_NAME`LAST_NAME)).thenReturn(List.of(doctor));" is 121.,238
33_HealthBox-master,project.healthbox.unit.services,RoleServiceTests,seedRoles_Should_SeedRolesCorrectly,Magic Number,The method contains a magic number: 4,38
33_HealthBox-master,project.healthbox.unit.services,SpecialtyServiceTests,init,Long Statement,The length of the statement "specialtyService=new SpecialtyServiceImpl(mockSpecialtyRepository`new ModelMapper()`Mockito.mock(Resource.class)`new Gson());" is 125.,35
33_HealthBox-master,project.healthbox.unit.services,UserServiceTests,init,Long Statement,The length of the statement "userService=new UserServiceImpl(new ModelMapper()`mockUserRepository`mockDoctorRepository`mockBCryptPasswordEncoder`mockRoleService`mockRegisterEventPublisher);" is 160.,53
33_HealthBox-master,project.healthbox.unit.services,UserServiceTests,makeAdmin_Should_UpdateTheRoles,Magic Number,The method contains a magic number: 2,236
